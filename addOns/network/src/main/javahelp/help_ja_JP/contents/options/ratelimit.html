<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<TITLE>レート制限</TITLE>
</HEAD>
<BODY>
    <H1>レート制限</H1>

    <H2>レート制限</H2>
    レート制限機能はターゲットの過負荷やブロックを防ぐために、ホストまたはドメインへのHTTP/HTTPS (Webソケットではない) トラフィックのリクエストレートを制限します。
    制限はリクエストホストに対してマッチャーを使用することで、個々のホスト、ドメイン全体、あるいはその中間を指定して適用されます。 ホストが複数のルールに一致する場合、最も制限の厳しいレートを持つルールが使用されます。
    <p>
    ドメインまたはホストの制限はコンテキストメニューからすばやく追加できます。 メッセージ上でコンテキストメニューを開き、ホストまたはドメインによる制限ルールを追加します。
    <p>
    各ルールは以下のフィールドで定義されます：

    <h3>説明</h3>
    ルールを識別するための説明。 各ルールには一意の説明が必要です。

    <h3>マッチ文字列</h3>
    制限されるホストを識別するために使用される文字列。 正規表現として扱われる場合、ホストは完全に一致する必要があります。

    「正規表現で一致」がオフの場合、一致文字列はDNSの慣例に基づいて処理されます。 文字列が1つまたは2つのコンポーネント (例: `example.com` や `localhost`) を持つ場合、完全一致または追加のサブコンポーネントも一致します。 「host1.example.com」、「sub1.host1.example.com」は「example.com」に一致します。 「localhost.localhost」は「localhost」に一致します。 「host1.example.com」の一致文字列は「host1.example.com」にのみ一致します。

    <h3>マッチ正規表現</h3>
    設定されている場合、一致文字列は正規表現として扱われます。

    <h3>1秒あたりのリクエスト数</h3>
    1秒あたりの最大リクエスト数。

    <h3>グループ化</h3>
    レート制限を適用するときにホストをグループ化する方法。 デフォルトの「ルール」は、ルールに一致するすべてのホストを単一の単位としてレートを制限します。 「ホスト」値は各ホストに個別にレート制限を適用します。

    <h3>有効</h3>
    設定されていない場合、ルールは適用されません。

    <H2>ステータスパネル</H2>
    ホストへのリクエストがどのように制限されているかを示すステータスパネルが提供されます。
    以下のフィールドが表示されます：

    <h3>グループ</h3>
    ルールの「グループ化」設定に基づいたホストまたはルール名。 ホストごとにグループ化する場合、ホストごとに1行表示されます。

    <h3>ルール</h3>
    ルール名。

    <h3>リクエスト数</h3>
    このホストまたはグループに対してルールによって処理されたリクエストの数。

    <h3>実効レート</h3>
    最初のリクエスト時間、最後のリクエスト時間、およびリクエスト数に基づいた実効リクエストレート。 値はリクエスト制限よりも少なくなることがありますが、それよりも多くなることはありません。

    <h3>最終処理時刻</h3>
    ルールによって処理された最後のリクエストの時刻。
</BODY>
</HTML>
